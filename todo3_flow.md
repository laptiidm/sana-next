–ß—É–¥–æ–≤–æ! –û—Å—å —á—ñ—Ç–∫–∏–π –ø–æ–∫—Ä–æ–∫–æ–≤–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º, —è–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ GraphQL API –±–µ–∑ middleware, —â–æ–± —á–µ—Ä–µ–∑ –æ–¥–∏–Ω –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –º–æ–∂–Ω–∞ –±—É–ª–æ –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –¥–æ –¥–≤–æ—Ö —Ä—ñ–∑–Ω–∏—Ö —Å—Ö–æ–≤–∏—â (Xml —ñ Db), –≤—Ä–∞—Ö–æ–≤—É—é—á–∏, —â–æ —É —Ç–µ–±–µ –≤–∂–µ —î –¥–≤–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó —ñ –ª–æ–≥—ñ–∫–∞ –≤–∏–±–æ—Ä—É —Å—Ö–æ–≤–∏—â–∞:

---

## –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∫—Ä–æ–∫–æ–≤–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó GraphQL API –±–µ–∑ middleware

---

### 1. **–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ö–µ–º–∏ GraphQL**

* **–°—Ç–≤–æ—Ä–∏—Ç–∏ GraphQL-—Å—Ö–µ–º—É (`Schema`)** ‚Äî —Ü–µ –≥–æ–ª–æ–≤–Ω–∏–π –∫–ª–∞—Å, —è–∫–∏–π –æ–ø–∏—Å—É—î —Ç–∏–ø–∏ –¥–∞–Ω–∏—Ö —ñ –∫–æ—Ä–µ–Ω–µ–≤—ñ –∑–∞–ø–∏—Ç–∏.
* **–í–∏–∑–Ω–∞—á–∏—Ç–∏ —Ç–∏–ø–∏ (ObjectGraphType) –¥–ª—è –∑–∞–¥–∞—á (TaskType)**

  * –í—ñ–¥–æ–±—Ä–∞–∑–∏—Ç–∏ –≤—Å—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ `TaskModel`.
* **–í–∏–∑–Ω–∞—á–∏—Ç–∏ –∫–æ—Ä–µ–Ω–µ–≤–∏–π —Ç–∏–ø –∑–∞–ø–∏—Ç—ñ–≤ (Query)**

  * –ó–∞–ø–∏—Ç–∏ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–∏—Ö —Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–∏—Ö –∑–∞–¥–∞—á.
  * –ó–∞–ø–∏—Ç–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø—Ä–∏–π–º–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ç–∏–ø —Å—Ö–æ–≤–∏—â–∞ ‚Äî Xml –∞–±–æ Db).
* **–í–∏–∑–Ω–∞—á–∏—Ç–∏ –º—É—Ç–∞—Ü—ñ—ó (Mutation)**

  * –î–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–∞–¥–∞—á—ñ.
  * –î–ª—è –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–æ—ó.

---

### 2. **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–µ–∑–æ–ª–≤–µ—Ä—ñ–≤ (Resolvers)**

* –†–µ–∑–æ–ª–≤–µ—Ä–∏ ‚Äî —Ü–µ –º–µ—Ç–æ–¥–∏, —è–∫—ñ –±—É–¥—É—Ç—å –æ–±—Ä–æ–±–ª—è—Ç–∏ –∑–∞–ø–∏—Ç–∏ —Ç–∞ –º—É—Ç–∞—Ü—ñ—ó.
* –í–æ–Ω–∏ –∑–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è –¥–æ —Å–µ—Ä–≤—ñ—Å—É –∞–±–æ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –¥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é.
* **–ì–æ–ª–æ–≤–Ω–µ**: –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –ø–µ—Ä–µ–¥–∞–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—É —Å—Ö–æ–≤–∏—â–∞ (Xml –∞–±–æ Db) ‚Äî –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π.

---

### 3. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —Å—Ö–æ–≤–∏—â —É GraphQL**

* –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–µ—Ä–≤—ñ—Å –∞–±–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —è–∫–∏–π –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Å—Ö–æ–≤–∏—â–∞ –±—É–¥–µ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π (`ITaskRepository`).
* –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ–π —Å–µ—Ä–≤—ñ—Å –≤ —Ä–µ–∑–æ–ª–≤–µ—Ä–∞—Ö.

---

### 4. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ GraphQL**

* –°—Ç–≤–æ—Ä–∏—Ç–∏ API –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `GraphQLController`.
* –í –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ:

  * –ü—Ä–∏–π–º–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏ (GET/POST).
  * –í–∏–ª—É—á–∞—Ç–∏ GraphQL –∑–∞–ø–∏—Ç (query, variables, operationName).
  * –í–∏–∫–ª–∏–∫–∞—Ç–∏ `IDocumentExecuter.ExecuteAsync()` —ñ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—é —Å—Ö–µ–º–æ—é —ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
  * –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ JSON –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.

---

### 5. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è DI (Dependency Injection)**

* –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ —Å—Ö–µ–º—É, `IDocumentExecuter`, —Å–µ—Ä–≤—ñ—Å–∏ —Å—Ö–æ–≤–∏—â, —Å–µ—Ä–≤—ñ—Å–∏ –≤–∏–±–æ—Ä—É —Å—Ö–æ–≤–∏—â–∞.
* –í –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ —ñ–Ω–∂–µ–∫—Ç–∏—Ç–∏ —Å—Ö–µ–º—É —Ç–∞ –ø–æ—Ç—Ä—ñ–±–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏.

---

### 6. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**

* –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ GraphiQL, Postman, Insomnia –∞–±–æ –±—É–¥—å-—è–∫–∏–π —ñ–Ω—à–∏–π GraphQL –∫–ª—ñ—î–Ω—Ç.
* –†–æ–±–∏—Ç–∏ –∑–∞–ø–∏—Ç–∏ —ñ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –≤–∏–±–æ—Ä—É —Å—Ö–æ–≤–∏—â–∞.
* –ü–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏, —â–æ –æ—Ç—Ä–∏–º—É—î—à –¥–∞–Ω—ñ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å—Ö–æ–≤–∏—â–∞.

---

## –°—Ö–µ–º–∞—Ç–∏—á–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∫–ª–∞—Å—ñ–≤/—Å—É—Ç–Ω–æ—Å—Ç–µ–π, —è–∫—ñ —Ç—Ä–µ–±–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏:

| –ù–∞–∑–≤–∞ –∫–ª–∞—Å—É/—Å–µ—Ä–≤—ñ—Å—É            | –†–æ–ª—å / –ó–∞–≤–¥–∞–Ω–Ω—è                                                                   |
| ------------------------------ | --------------------------------------------------------------------------------- |
| `TaskType`                     | GraphQL Object Type, –æ–ø–∏—Å—É—î TaskModel                                             |
| `TasksQuery`                   | –ö–æ—Ä–µ–Ω–µ–≤–∏–π Query ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞–¥–∞—á (active, completed) –∑ –≤–∏–±–æ—Ä–æ–º —Å—Ö–æ–≤–∏—â–∞           |
| `TasksMutation`                | GraphQL Mutation ‚Äî –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–∞–¥–∞—á—ñ, –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–æ—ó                      |
| `TasksSchema`                  | GraphQL Schema, –æ–±'—î–¥–Ω—É—î Query —Ç–∞ Mutation                                        |
| `IStorageSelectionService`     | –°–µ—Ä–≤—ñ—Å –≤–∏–±–æ—Ä—É —Å—Ö–æ–≤–∏—â–∞ (—î —É —Ç–µ–±–µ)                                                  |
| `ITaskRepository`              | –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é (—î —É —Ç–µ–±–µ)                                                  |
| `XmlTaskRepository`            | –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –¥–ª—è XML (—î)                                                           |
| `DbTaskRepository`             | –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (—î)                                                    |
| `GraphQLController`            | ASP.NET Core API –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä, —â–æ –ø—Ä–∏–π–º–∞—î GraphQL –∑–∞–ø–∏—Ç–∏ —ñ –≤–∏–∫–æ–Ω—É—î —ó—Ö –±–µ–∑ middleware |
| `GraphQLService` (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) | –°–µ—Ä–≤—ñ—Å –¥–ª—è –ª–æ–≥—ñ–∫–∏ –≤–∏–±–æ—Ä—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –∑–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —ñ –¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è –≤–∏–∫–ª–∏–∫—ñ–≤         |

---

## –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –¥—ñ–π

1. **–û–ø–∏—à–∏ GraphQL —Ç–∏–ø `TaskType` –¥–ª—è TaskModel**
2. **–û–ø–∏—à–∏ –∫–æ—Ä–µ–Ω–µ–≤–∏–π –∑–∞–ø–∏—Ç `TasksQuery` –∑ –ø–æ–ª—è–º–∏:**

   * `activeTasks(storage: StorageType): [TaskType]`
   * `completedTasks(storage: StorageType): [TaskType]`
3. **–û–ø–∏—à–∏ –º—É—Ç–∞—Ü—ñ—ó `TasksMutation`:**

   * `addTask(storage: StorageType, taskInput: TaskInput): TaskType`
   * `markTaskAsDone(storage: StorageType, taskId: Int): TaskType`
4. **–°—Ç–≤–æ—Ä–∏ —Å—Ö–µ–º—É `TasksSchema`, –¥–æ–¥–∞–π Query —ñ Mutation**
5. **–°—Ç–≤–æ—Ä–∏ —Å–µ—Ä–≤—ñ—Å (–∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π –≤–∂–µ —ñ—Å–Ω—É—é—á–∏–π `IStorageSelectionService`) –¥–ª—è –≤–∏–±–æ—Ä—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –∑–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `storage`**
6. **–°—Ç–≤–æ—Ä–∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä `GraphQLController`**:

   * –ü—Ä–∏–π–º–∞–π –∑–∞–ø–∏—Ç–∏
   * –í–∏–∫–æ–Ω—É–π `ExecuteAsync` —ñ–∑ –ø–µ—Ä–µ–¥–∞–Ω–æ—é —Å—Ö–µ–º–æ—é —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   * –ü–æ–≤–µ—Ä–Ω–∏ JSON —Ä–µ–∑—É–ª—å—Ç–∞—Ç
7. **–ó–∞—Ä–µ—î—Å—Ç—Ä—É–π —É DI –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ (Schema, DocumentExecuter, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó, —Å–µ—Ä–≤—ñ—Å–∏)**
8. **–ü–µ—Ä–µ–≤—ñ—Ä —É GraphiQL / Postman, —â–æ –º–æ–∂–µ—à —Ä–æ–±–∏—Ç–∏ –∑–∞–ø–∏—Ç–∏ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –≤–∏–±–æ—Ä—É —Å—Ö–æ–≤–∏—â–∞ —ñ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏**

---
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                 | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è                       |
| ------------------------- | --------------------------------- |
| –¢–∏–ø–∏ (`TaskType`)         | –û–ø–∏—Å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö              |
| –ó–∞–ø–∏—Ç–∏ (`Query`)          | –û–ø–∏—Å –º–æ–∂–ª–∏–≤–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π —á–∏—Ç–∞–Ω–Ω—è    |
| –ú—É—Ç–∞—Ü—ñ—ó (`Mutation`)      | –û–ø–∏—Å –æ–ø–µ—Ä–∞—Ü—ñ–π –∑–º—ñ–Ω–∏ –¥–∞–Ω–∏—Ö         |
| –í—Ö—ñ–¥–Ω—ñ —Ç–∏–ø–∏ (`InputType`) | –û–ø–∏—Å —Ñ–æ—Ä–º–∞—Ç—É –¥–∞–Ω–∏—Ö –¥–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è   |
| –°—Ö–µ–º–∞ (`Schema`)          | –ó–±—ñ—Ä–∫–∞ –≤—Å—ñ—Ö —á–∞—Å—Ç–∏–Ω —É —Ü—ñ–ª—ñ—Å–Ω–∏–π API |

---

### –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:

* **–°—Ö–µ–º–∞ (Schema)** ‚Äî —Ü–µ **–∫–æ–ª–µ–∫—Ü—ñ—è –∫–ª–∞—Å—ñ–≤**, —â–æ –æ–ø–∏—Å—É—é—Ç—å —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `TaskType`), –∑–∞–ø–∏—Ç–∏ (`Query`), –º—É—Ç–∞—Ü—ñ—ó (`Mutation`) —ñ –≤—Ö—ñ–¥–Ω—ñ —Ç–∏–ø–∏ (`InputType`).

* –Ü —î **–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä**, –∫–ª–∞—Å `Schema`, —è–∫–∏–π **–æ–±‚Äô—î–¥–Ω—É—î** —Ü—ñ –≤—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤ —î–¥–∏–Ω—É GraphQL-—Å—Ö–µ–º—É, —â–æ —Å–µ—Ä–≤–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤.

---

### –£ –≤–∏–≥–ª—è–¥—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏:

```
TaskType            // –æ–ø–∏—Å—É—î –ø–æ–ª—è –æ–±'—î–∫—Ç–∞ Task
TaskInputType       // –æ–ø–∏—Å—É—î –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è Task
TaskQuery           // –æ–ø–∏—Å—É—î –∑–∞–ø–∏—Ç–∏ (–æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á, –∑–∞–¥–∞—á—É –∑–∞ id)
TaskMutation        // –æ–ø–∏—Å—É—î –º—É—Ç–∞—Ü—ñ—ó (–¥–æ–¥–∞—Ç–∏, –æ–Ω–æ–≤–∏—Ç–∏, –≤–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–¥–∞—á—É)
TaskSchema          // –∞–≥—Ä–µ–≥—É—î Query, Mutation —ñ —Ç–∏–ø–∏ –≤ —î–¥–∏–Ω—É —Å—Ö–µ–º—É
```

---

### –Ü —Ç–æ–¥—ñ GraphQL —Å–µ—Ä–≤–µ—Ä –∑–Ω–∞—î:

* –Ø–∫—ñ **–¥–∞–Ω—ñ** –¥–æ—Å—Ç—É–ø–Ω—ñ (—á–µ—Ä–µ–∑ —Ç–∏–ø–∏).
* –Ø–∫ —ó—Ö **—á–∏—Ç–∞—Ç–∏** (—á–µ—Ä–µ–∑ `Query`).
* –Ø–∫ —ó—Ö **–∑–º—ñ–Ω—é–≤–∞—Ç–∏** (—á–µ—Ä–µ–∑ `Mutation`).
* –Ü –≤—Å—é —Ü—é –ª–æ–≥—ñ–∫—É –∑–±–∏—Ä–∞—î —É —î–¥–∏–Ω—É **—Å—Ö–µ–º—É**.

---

–û—Å—å –ø–æ–≤–Ω—ñ—Å—Ç—é –≥–æ—Ç–æ–≤–∏–π —Ñ–∞–π–ª `GraphQLController.cs`, –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —Ç–≤–æ—î—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ (`TaskQuery`, `TaskMutation`, `TaskType`, `TaskInputType`, `TaskSchema`) —Ç–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.

---

### üìÑ `Controllers/GraphQLController.cs`

> –°—Ç–≤–æ—Ä–∏ –ø–∞–ø–∫—É `Controllers`, —è–∫—â–æ —ó—ó —â–µ –Ω–µ–º–∞, —ñ –¥–æ–¥–∞–π —Ü–µ–π —Ñ–∞–π–ª:

```csharp
using GraphQL;
using GraphQL.Types;
using Microsoft.AspNetCore.Mvc;
using Todo_List_3.GraphQL;

namespace Todo_List_3.Controllers
{
    [Route("graphql")]
    [ApiController]
    public class GraphQLController : ControllerBase
    {
        private readonly ISchema _schema;
        private readonly IDocumentExecuter _executer;

        public GraphQLController(ISchema schema, IDocumentExecuter executer)
        {
            _schema = schema;
            _executer = executer;
        }

        [HttpPost]
        public async Task<IActionResult> Post([FromBody] GraphQLQuery query)
        {
            if (query == null || string.IsNullOrEmpty(query.Query))
                return BadRequest("GraphQL query is missing.");

            var result = await _executer.ExecuteAsync(options =>
            {
                options.Schema = _schema;
                options.Query = query.Query;
                options.OperationName = query.OperationName;
                options.Inputs = query.Variables?.ToInputs();
                options.RequestServices = HttpContext.RequestServices;
                options.ThrowOnUnhandledException = true;
            });

            if (result.Errors?.Count > 0)
                return BadRequest(result);

            return Ok(result);
        }
    }
}
```

---

### üìÑ `GraphQL/GraphQLQuery.cs`

> –î–æ–¥–∞–π —Ü–µ–π –Ω–æ–≤–∏–π –∫–ª–∞—Å —É –ø–∞–ø–∫—É `GraphQL`:

```csharp
using System.Collections.Generic;

namespace Todo_List_3.GraphQL
{
    public class GraphQLQuery
    {
        public string? Query { get; set; }
        public string? OperationName { get; set; }
        public Dictionary<string, object>? Variables { get; set; }
    }
}
```

---

### üîß –î–æ–¥–∞–π –¥–æ `Program.cs` —Ç–∞–∫—ñ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó

–ü–µ—Ä–µ–≤—ñ—Ä, —â–æ –≤ —Ç–µ–±–µ **—î –∞–±–æ –¥–æ–¥–∞–π**:

```csharp
builder.Services.AddSingleton<IDocumentExecuter, DocumentExecuter>();
builder.Services.AddSingleton<IGraphQLTextSerializer, GraphQL.SystemTextJson.DocumentWriter>();

// —Ü—ñ –≤–∂–µ –º–∞—é—Ç—å –±—É—Ç–∏
builder.Services.AddSingleton<TaskType>();
builder.Services.AddSingleton<TaskInputType>();
builder.Services.AddScoped<TaskQuery>();
builder.Services.AddScoped<TaskMutation>();
builder.Services.AddScoped<ISchema, TaskSchema>();
```

---

### ‚úÖ –¢–µ—Å—Ç

–£ Postman –∞–±–æ Insomnia:

* **POST** –Ω–∞ `https://localhost:{–ø–æ—Ä—Ç}/graphql`
* JSON:

```json
{
  "query": "{ tasks { id title isCompleted } }"
}
```

---

üîö –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ ‚Äî –º–æ–∂—É —Ç–∞–∫–æ–∂ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ `launchSettings.json` –∞–±–æ –¥–æ–ø–æ–º–æ–≥—Ç–∏ –¥–æ–¥–∞—Ç–∏ Swagger –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ –≤–∏–∫–ª–∏–∫—É.







