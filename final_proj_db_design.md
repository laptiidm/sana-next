## üîë –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ

1. **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î –º–µ—Ç–æ–¥ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó** (Google, Apple, Facebook —Ç–æ—â–æ).
2. –ô–æ–≥–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (Google, Apple), –¥–µ –≤—ñ–Ω –∞–≤—Ç–æ—Ä–∏–∑—É—î—Ç—å—Å—è.
3. –ü—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ç–≤—ñ–π —Å–µ—Ä–≤–µ—Ä –æ—Ç—Ä–∏–º—É—î **—ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞** –≤—ñ–¥ —Ü—å–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ + –¥–µ—è–∫—ñ –¥–∞–Ω—ñ (email, —ñ–º‚Äô—è, –∞–≤–∞—Ç–∞—Ä).
4. –¢–≤—ñ–π –±–µ–∫–µ–Ω–¥:

   * –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —Ü–µ–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —É–∂–µ —î –≤ –±–∞–∑—ñ;
   * —è–∫—â–æ —î ‚Üí –ª–æ–≥—ñ–Ω–∏—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞;
   * —è–∫—â–æ –Ω—ñ ‚Üí —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (`users`) —ñ –∑–∞–ø–∏—Å—É—î —Ü–µ–π –∑–≤‚Äô—è–∑–æ–∫ —É —Ç–∞–±–ª–∏—Ü—é `user_providers`.

---

## üìä –Ø–∫ —Ü–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –≤ –ë–î

–ó–∞–∑–≤–∏—á–∞–π –¥–æ–¥–∞—é—Ç—å —â–µ –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—é, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

```sql
Table user_providers {
  id bigserial [pk]
  user_id bigint [not null, ref: > users.id]
  provider text [not null] // google | apple | facebook
  provider_user_id text [not null] // —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —É —Ç–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
  email text // email, —è–∫–∏–π –ø–æ–≤–µ—Ä–Ω—É–≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä (–º–æ–∂–µ –±—É—Ç–∏ null –¥–ª—è Apple)
  created_at timestamptz [default: now()]
  Indexes {
    (provider, provider_user_id) [unique]
  }
}
```

### –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:

* –£ —Ç–∞–±–ª–∏—Ü—ñ `users` —Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—î—à **–ª–æ–∫–∞–ª—å–Ω–∏–π –∞–∫–∞—É–Ω—Ç** (–Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω—ñ–∫–æ–ª–∏ –Ω–µ –≤–≤–æ–¥–∏—Ç—å –ø–∞—Ä–æ–ª—å).
* –£ `user_providers` —Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—î—à –∑–≤‚Äô—è–∑–æ–∫ –∑ Google/Apple –∞–∫–∞—É–Ω—Ç–æ–º.
* –¶–µ –¥–æ–∑–≤–æ–ª—è—î –æ–¥–Ω–æ–º—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –º–∞—Ç–∏ **–∫—ñ–ª—å–∫–∞ —Å–ø–æ—Å–æ–±—ñ–≤ –ª–æ–≥—ñ–Ω—É**: –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—å–æ–≥–æ–¥–Ω—ñ –≤—ñ–Ω –∑–∞–π—à–æ–≤ —á–µ—Ä–µ–∑ Google, –∞ –∑–∞–≤—Ç—Ä–∞ —á–µ—Ä–µ–∑ Apple ‚Äî —ñ –≤—Å–µ –æ–¥–Ω–æ –ø–æ—Ç—Ä–∞–ø–ª—è—î –≤ —Ç–æ–π —Å–∞–º–∏–π –∞–∫–∞—É–Ω—Ç.

---

## ‚öôÔ∏è –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤

* **Google Sign-In** ‚Üí –ø–æ–≤–µ—Ä—Ç–∞—î `sub` (—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ Google), email, —ñ–º‚Äô—è, –∞–≤–∞—Ç–∞—Ä.
* **Apple Sign-In** ‚Üí –ø–æ–≤–µ—Ä—Ç–∞—î `sub`, email (–º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π, —Ç–æ–¥—ñ Apple –¥–∞—î relay email), —ñ–º‚Äô—è –ª–∏—à–µ –ø—ñ–¥ —á–∞—Å –ø–µ—Ä—à–æ—ó —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó.
* **Facebook Login** ‚Üí –ø–æ–≤–µ—Ä—Ç–∞—î `id`, email (—è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–∑–≤–æ–ª–∏–≤), —ñ–º‚Äô—è, –∞–≤–∞—Ç–∞—Ä.

–£ –≤—Å—ñ—Ö –≤–∏–ø–∞–¥–∫–∞—Ö `sub`/`id` = —Ç–≤—ñ–π –≥–æ–ª–æ–≤–Ω–∏–π –∫–ª—é—á –¥–ª—è –∑–≤‚Äô—è–∑–∫—É.

---

## ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫

* –¢–∏ **–Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—à –ø–∞—Ä–æ–ª—ñ** –¥–ª—è —Ç–∞–∫–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –∞–ª–µ –≤—Å–µ –æ–¥–Ω–æ –º–∞—î—à —Ä—è–¥–æ–∫ —É `users`.
* –ß–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—é `user_providers` –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ —Å–∫—ñ–ª—å–∫–∏ –∑–∞–≤–≥–æ–¥–Ω–æ —Å–æ—Ü–ª–æ–≥—ñ–Ω—ñ–≤.
* –¶–µ –≥–Ω—É—á–∫–∞ –º–æ–¥–µ–ª—å, —è–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å **Facebook, Spotify, Slack, GitHub** —Ç–∞ —ñ–Ω—à—ñ.

---

