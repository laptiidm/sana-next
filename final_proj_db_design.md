### üîπ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Ç–∞ –ø—Ä–æ—Ñ—ñ–ª—ñ

* –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–∫–∞—É–Ω—Ç—É —á–µ—Ä–µ–∑ email –∞–±–æ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤ (Google, Apple, —Ç–æ—â–æ).
* –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (`user_profiles`): —ñ–º‚Äô—è, —Å—Ç–∞—Ç—å, –¥–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è, –∑—Ä—ñ—Å—Ç, –≤–∞–≥–∞, —Ä—ñ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ, —á–∞—Å–æ–≤–∏–π –ø–æ—è—Å, –∫—Ä–∞—ó–Ω–∞.
* –°—Ç–∞—Ç—É—Å –∞–∫–∞—É–Ω—Ç—É (`active`, `disabled`, `deleted`).

---

### üîπ –¶—ñ–ª—ñ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è

* –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ü—ñ–ª–µ–π –ø–æ –∫–∞–ª–æ—Ä—ñ—è—Ö, –±—ñ–ª–∫–∞—Ö, –∂–∏—Ä–∞—Ö —ñ –≤—É–≥–ª–µ–≤–æ–¥–∞—Ö (`nutrition_goals`).
* –ü–µ—Ä—ñ–æ–¥–∏ –¥—ñ—ó —Ü—ñ–ª–µ–π (`start_date`, `end_date`).

---

### üîπ –ü—Ä–æ–¥—É–∫—Ç–∏ —Ç–∞ –Ω—É—Ç—Ä—ñ—î–Ω—Ç–∏

* –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ (`foods`) –∑ –±—Ä–µ–Ω–¥–∞–º–∏, –æ–¥–∏–Ω–∏—Ü—è–º–∏ (`units`) —ñ –ø–æ—Ä—Ü—ñ—è–º–∏ (`food_portions`).
* –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏ –∫–∞—Å—Ç–æ–º–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ (`is_custom`, `created_by_user_id`).
* –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –±–∞—Ä–∫–æ–¥—ñ–≤ (`barcodes`).
* –ó–≤‚Äô—è–∑–æ–∫ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –∑ –Ω—É—Ç—Ä—ñ—î–Ω—Ç–∞–º–∏ (`nutrients` —ñ `food_nutrients`) –¥–ª—è –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –∫–∞–ª–æ—Ä—ñ–π —Ç–∞ –º–∞–∫—Ä–æ-/–º—ñ–∫—Ä–æ–Ω—É—Ç—Ä—ñ—î–Ω—Ç—ñ–≤.

---

### üîπ –†–µ—Ü–µ–ø—Ç–∏ —Ç–∞ —Å—Ç—Ä–∞–≤–∏

* –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ—Ü–µ–ø—Ç—ñ–≤/—Å—Ç—Ä–∞–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (`recipes`).
* –ó–≤‚Äô—è–∑–æ–∫ —Ä–µ—Ü–µ–ø—Ç—ñ–≤ –∑ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∞–º–∏ (`recipe_items`), –≤–∫–ª—é—á–∞—é—á–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–∞ –æ–¥–∏–Ω–∏—Ü—ñ –≤–∏–º—ñ—Ä—É.
* –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –æ–±—á–∏—Å–ª—é–≤–∞—Ç–∏ –∫–∞–ª–æ—Ä—ñ–π–Ω—ñ—Å—Ç—å —Å—Ç—Ä–∞–≤–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤.

---

### üîπ –©–æ–¥–µ–Ω–Ω–∏–∫ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è

* –í–µ–¥–µ–Ω–Ω—è —â–æ–¥–µ–Ω–Ω–∏–∫–∞ (`diary_days`) –∑ –Ω–æ—Ç–∞—Ç–∫–∞–º–∏ —Ç–∞ –≤—ñ–¥–º—ñ—Ç–∫–æ—é `planned` (–ø–ª–∞–Ω–æ–≤–∞–Ω—ñ/—Ñ–∞–∫—Ç–∏—á–Ω—ñ –¥–Ω—ñ).
* –ü—Ä–∏–π–æ–º–∏ —ó–∂—ñ (`meals`) —ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –ø—Ä–∏–π–æ–º—É (`meal_items`) ‚Äî –ø—Ä–æ–¥—É–∫—Ç–∏ –∞–±–æ —Ä–µ—Ü–µ–ø—Ç–∏, –∫—ñ–ª—å–∫—ñ—Å—Ç—å —ñ –æ–¥–∏–Ω–∏—Ü—è –≤–∏–º—ñ—Ä—É.

---

### üîπ –§—ñ–∑–∏—á–Ω–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

* –í–µ–¥–µ–Ω–Ω—è –≤–ø—Ä–∞–≤ (`exercises`) –∑ –¥–∞—Ç–æ—é, –Ω–∞–∑–≤–æ—é, —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—é —Ç–∞ —Å–ø–∞–ª–µ–Ω–∏–º–∏ –∫–∞–ª–æ—Ä—ñ—è–º–∏.
* –õ–æ–≥–∏ –≤–∞–≥–∏ (`body_weight_logs`) –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω –º–∞—Å–∏ —Ç—ñ–ª–∞.

---

–¶—è —Å—Ö–µ–º–∞ –ø–æ–∫—Ä–∏–≤–∞—î **MVP –¥–ª—è –∞–ø–∫–∏ –∑ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –∫–∞–ª–æ—Ä—ñ–π**, –≤–µ–¥–µ–Ω–Ω—è —â–æ–¥–µ–Ω–Ω–∏–∫–∞ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è, –±–∞–∑–æ–≤–∏—Ö –≤–ø—Ä–∞–≤ —Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏—Ö —Ü—ñ–ª–µ–π, –∞ —Ç–∞–∫–æ–∂ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤.

---

---

### üìã –¢–∞–±–ª–∏—Ü—ñ —Ç–∞ —ó—Ö –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

| –¢–∞–±–ª–∏—Ü—è                | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è                                                           | –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª, —â–æ —Å–ø–∏—Ä–∞—î—Ç—å—Å—è                             |
| ---------------------- | --------------------------------------------------------------------- | ----------------------------------------------------- |
| **users**              | –û–±–ª—ñ–∫–æ–≤—ñ –∑–∞–ø–∏—Å–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –ª–æ–≥—ñ–Ω/–ø–∞—Ä–æ–ª—å, —Å—Ç–∞—Ç—É—Å                    | –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, –ª–æ–≥—ñ–Ω, –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è        |
| **user\_profiles**     | –û—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ (—ñ–º‚Äô—è, —Å—Ç–∞—Ç—å, –∑—Ä—ñ—Å—Ç, –≤–∞–≥–∞, –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å, TZ) | –ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—è, —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∫–∞–ª–æ—Ä—ñ–π —Ç–∞ –Ω–æ—Ä–º, –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ |
| **user\_providers**    | –ó–≤‚Äô—è–∑–æ–∫ –∑ —Å–æ—Ü–º–µ—Ä–µ–∂–∞–º–∏ (Google, Apple, Facebook)                       | –õ–æ–≥—ñ–Ω —á–µ—Ä–µ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤ (SSO)               |
| **nutrition\_goals**   | –¶—ñ–ª—å–æ–≤—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è                                          | –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó, –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è        |
| **brands**             | –ë—Ä–µ–Ω–¥–∏ —Ö–∞—Ä—á–æ–≤–∏—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤                                             | –ö–∞—Ç–∞–ª–æ–≥—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤, –ø–æ—à—É–∫ –ø–æ –±—Ä–µ–Ω–¥—É              |
| **units**              | –û–¥–∏–Ω–∏—Ü—ñ –≤–∏–º—ñ—Ä—É (–≥—Ä–∞–º, —à—Ç—É–∫–∞, —Å–∫–ª—è–Ω–∫–∞‚Ä¶)                                | –í–∏–±—ñ—Ä –ø–æ—Ä—Ü—ñ–π —É —â–æ–¥–µ–Ω–Ω–∏–∫—É/—Ä–µ—Ü–µ–ø—Ç–∞—Ö                     |
| **foods**              | –ë–∞–∑–∞ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ (–Ω–∞–∑–≤–∞, –±—Ä–µ–Ω–¥, —á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π)                      | –ö–∞—Ç–∞–ª–æ–≥ —ó–∂—ñ, –≤–ª–∞—Å–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤             |
| **barcodes**           | –®—Ç—Ä–∏—Ö–∫–æ–¥–∏, –ø—Ä–∏–≤‚Äô—è–∑–∫–∞ –¥–æ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤                                     | –ü–æ—à—É–∫ –ø—Ä–æ–¥—É–∫—Ç—É –ø–æ —à—Ç—Ä–∏—Ö–∫–æ–¥—É (MVP –º–æ–∂–Ω–∞ –±–µ–∑ —Ü—å–æ–≥–æ)     |
| **food\_portions**     | –í–∞—Ä—ñ–∞–Ω—Ç–∏ –ø–æ—Ä—Ü—ñ–π –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç—É (1 —à–º–∞—Ç–æ–∫ = 30 –≥)                        | –ì–Ω—É—á–∫–µ –≤–≤–µ–¥–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —ó–∂—ñ                         |
| **recipes**            | –°—Ç—Ä–∞–≤–∏, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏                                        | –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–∏—Ö —Ä–µ—Ü–µ–ø—Ç—ñ–≤                           |
| **recipe\_items**      | –Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏ —Ä–µ—Ü–µ–ø—Ç—É (–ø—Ä–æ–¥—É–∫—Ç + –∫—ñ–ª—å–∫—ñ—Å—Ç—å + –æ–¥–∏–Ω–∏—Ü—è)                   | –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∫–∞–ª–æ—Ä—ñ–π–Ω–æ—Å—Ç—ñ/—Å–∫–ª–∞–¥—É —Å—Ç—Ä–∞–≤–∏                 |
| **diary\_days**        | –ñ—É—Ä–Ω–∞–ª —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è –ø–æ –¥–Ω—è—Ö                                             | –©–æ–¥–µ–Ω–Ω–∏–π —Ç—Ä–µ–∫—ñ–Ω–≥, –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è, –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞               |
| **meals**              | –ü—Ä–∏–π–æ–º–∏ —ó–∂—ñ –≤ –º–µ–∂–∞—Ö –¥–Ω—è (—Å–Ω—ñ–¥–∞–Ω–æ–∫, –æ–±—ñ–¥‚Ä¶)                             | –û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è —Ö–∞—Ä—á–æ–≤–æ–≥–æ —â–æ–¥–µ–Ω–Ω–∏–∫–∞                       |
| **meal\_items**        | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏/—Ä–µ—Ü–µ–ø—Ç–∏ —É –ø—Ä–∏–π–æ–º—ñ —ó–∂—ñ                              | –í–µ–¥–µ–Ω–Ω—è —Ö–∞—Ä—á–æ–≤–æ–≥–æ —â–æ–¥–µ–Ω–Ω–∏–∫–∞                           |
| **body\_weight\_logs** | –õ–æ–≥–∏ –≤–∞–≥–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞                                                 | –¢—Ä–µ–∫—ñ–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—É, –≥—Ä–∞—Ñ—ñ–∫–∏ –∑–º—ñ–Ω –≤–∞–≥–∏                   |

---

üëâ –¢–∞–∫–∏–º —á–∏–Ω–æ–º, —è–¥—Ä–æ (–±–µ–∑ —è–∫–æ–≥–æ –Ω–µ–º–∞—î —Å–µ–Ω—Å—É) ‚Äî `users`, `user_profiles`, `foods`, `units`, `food_portions`, `diary_days`, `meals`, `meal_items`.
–î—Ä—É–≥–æ—Ä—è–¥–Ω—ñ, —è–∫—ñ –º–æ–∂–Ω–∞ –≤–∏–Ω–µ—Å—Ç–∏ "–Ω–∞ –ø–æ—Ç—ñ–º" ‚Äî `brands`, `barcodes`, `recipes`, `recipe_items`, `nutrition_goals`, `body_weight_logs`.
---
---

## üìù –û–ø–∏—Å –ë–î

### 1. **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (users, user\_profiles, user\_providers)**

* **–ù–∞–≤—ñ—â–æ:** –æ—Å–Ω–æ–≤–∞ –±–∞–≥–∞—Ç–æ–∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–æ—ó —Å–∏—Å—Ç–µ–º–∏, –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∞–∫–∞—É–Ω—Ç—ñ–≤, –ø—Ä–æ—Ñ—ñ–ª—ñ–≤ —Ç–∞ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –≤—Ö–æ–¥—ñ–≤.
* **–†–µ–∞–ª—å–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:**

  * –ù–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ä–µ—î—Å—Ç—Ä—É—î—Ç—å—Å—è ‚Üí –∑–∞–ø–∏—Å —É `users`.
  * –í—ñ–Ω –¥–æ–¥–∞—î —Å—Ç–∞—Ç—å, –∑—Ä—ñ—Å—Ç, –≤–∞–≥—É ‚Üí –¥–∞–Ω—ñ –π–¥—É—Ç—å —É `user_profiles`.
  * –Ø–∫—â–æ –≤—ñ–Ω –∑–∞—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ Google ‚Üí –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –∑–≤‚Äô—è–∑–æ–∫ —É `user_providers`.

---

### 2. **–ë—Ä–µ–Ω–¥–∏, –æ–¥–∏–Ω–∏—Ü—ñ, –ø–æ–∂–∏–≤–Ω—ñ —Ä–µ—á–æ–≤–∏–Ω–∏ (brands, units, nutrients)**

* **–ù–∞–≤—ñ—â–æ:** —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –ø—Ä–æ –ø—Ä–æ–¥—É–∫—Ç–∏, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ —Ö–∞–æ—Å—É.
* **–†–µ–∞–ª—å–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:**

  * –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞—î –≤ —Å–≤—ñ–π —Ä–∞—Ü—ñ–æ–Ω –π–æ–≥—É—Ä—Ç Danone ‚Üí –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –±—Ä–µ–Ω–¥ "Danone".
  * –î–ª—è –≤–∞–≥–∏ –π–æ–≥—É—Ä—Ç—É –æ–±–∏—Ä–∞—î "–≥—Ä–∞–º" —á–∏ "–ø–æ—Ä—Ü—ñ—è" –∑ —Ç–∞–±–ª–∏—Ü—ñ `units`.
  * –ö–∞–ª–æ—Ä—ñ–π–Ω—ñ—Å—Ç—å —ñ –±—ñ–ª–∫–∏ –≤–∫–∞–∑—É—é—Ç—å—Å—è —É `nutrients`.

---

### 3. **–•–∞—Ä—á–æ–≤—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ (foods, food\_portions, food\_nutrients, barcodes)**

* **–ù–∞–≤—ñ—â–æ:** –æ–ø–∏—Å –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç—É, —è–∫ –π–æ–≥–æ –º—ñ—Ä—è—Ç–∏ —ñ —è–∫—ñ –Ω—É—Ç—Ä—ñ—î–Ω—Ç–∏ –≤—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å.
* **–†–µ–∞–ª—å–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:**

  * –£ –º–∞–≥–∞–∑–∏–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å–∫–∞–Ω—É—î —à—Ç—Ä–∏—Ö–∫–æ–¥ —à–æ–∫–æ–ª–∞–¥–∫–∏ ‚Üí –∑–Ω–∞—Ö–æ–¥–∏–º–æ —ó—ó –≤ `barcodes`, —ñ –æ–¥—Ä–∞–∑—É –±–∞—á–∏–º–æ –∫–∞–ª–æ—Ä—ñ–π–Ω—ñ—Å—Ç—å —ñ–∑ `food_nutrients`.
  * –Ø–∫—â–æ –≤–∫–∞–∑–∞—Ç–∏ –ø–æ—Ä—Ü—ñ—é ¬´–ø–ª–∏—Ç–∫–∞¬ª ‚Üí —á–µ—Ä–µ–∑ `food_portions` —Å–∏—Å—Ç–µ–º–∞ –∑–Ω–∞—î, —â–æ —Ü–µ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 90 –≥.

---

### 4. **–†–µ—Ü–µ–ø—Ç–∏ (recipes, recipe\_items)**

* **–ù–∞–≤—ñ—â–æ:** –¥–æ–∑–≤–æ–ª—è—î –≥—Ä—É–ø—É–≤–∞—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏ –≤ –æ–¥–Ω—É —Å—Ç—Ä–∞–≤—É.
* **–†–µ–∞–ª—å–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:**

  * –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å—Ç–≤–æ—Ä—é—î —Ä–µ—Ü–µ–ø—Ç ¬´–û–º–ª–µ—Ç¬ª ‚Üí –∑–∞–ø–∏—Å —É `recipes`.
  * –î–æ–¥–∞—î —è–π—Ü—è, –º–∞—Å–ª–æ, –º–æ–ª–æ–∫–æ ‚Üí –∫–æ–∂–µ–Ω —Ä—è–¥–æ–∫ –π–¥–µ –≤ `recipe_items`.
  * –ü—ñ–∑–Ω—ñ—à–µ –≤—ñ–Ω –¥–æ–¥–∞—î ¬´–û–º–ª–µ—Ç¬ª –¥–æ —â–æ–¥–µ–Ω–Ω–∏–∫–∞ —è–∫ –æ–¥–Ω—É —Å—Ç—Ä–∞–≤—É.

---

### 5. **–©–æ–¥–µ–Ω–Ω–∏–∫ (diary\_days, meals, meal\_items)**

* **–ù–∞–≤—ñ—â–æ:** –∑–±–µ—Ä—ñ–≥–∞—î —â–æ–¥–µ–Ω–Ω–∏–π —Ä–∞—Ü—ñ–æ–Ω —ñ –ø—Ä–æ–≥—Ä–µ—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
* **–†–µ–∞–ª—å–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:**

  * –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î –¥–µ–Ω—å ¬´27 —Å–µ—Ä–ø–Ω—è¬ª ‚Üí —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∑–∞–ø–∏—Å —É `diary_days`.
  * –î–æ–¥–∞—î –ø—Ä–∏–π–æ–º–∏ —ó–∂—ñ: —Å–Ω—ñ–¥–∞–Ω–æ–∫, –æ–±—ñ–¥, –≤–µ—á–µ—Ä—è ‚Üí —Ç–∞–±–ª–∏—Ü—è `meals`.
  * –î–æ —Å–Ω—ñ–¥–∞–Ω–∫—É –¥–æ–¥–∞—î —Ö–ª—ñ–± —ñ —Å–∏—Ä ‚Üí `meal_items`.
  * –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–∞—Ö—É—î –∫–∞–ª–æ—Ä—ñ—ó –∑–∞ –¥–µ–Ω—å.

---

### 6. **–¶—ñ–ª—ñ —ñ –ø—Ä–æ–≥—Ä–µ—Å (nutrition\_goals, body\_weight\_logs)**

* **–ù–∞–≤—ñ—â–æ:** —Ñ—ñ–∫—Å—É—î–º–æ –º–µ—Ç—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —ñ –≤—ñ–¥—Å—Ç–µ–∂—É—î–º–æ –∑–º—ñ–Ω–∏ —É –≤–∞–∑—ñ.
* **–†–µ–∞–ª—å–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:**

  * –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å—Ç–∞–≤–∏—Ç—å —Å–æ–±—ñ —Ü—ñ–ª—å: 2000 –∫–∫–∞–ª/–¥–µ–Ω—å, 120 –≥ –±—ñ–ª–∫–∞ ‚Üí –∑–∞–ø–∏—Å —É `nutrition_goals`.
  * –©–æ—Ç–∏–∂–Ω—è –≤—ñ–Ω –∑–∞–ø–∏—Å—É—î –≤–∞–≥—É ‚Üí `body_weight_logs`.
  * –°–∏—Å—Ç–µ–º–∞ –±—É–¥—É—î –≥—Ä–∞—Ñ—ñ–∫ —ñ –ø–æ–∫–∞–∑—É—î –ø—Ä–æ–≥—Ä–µ—Å.

---

---

### **–Ñ–¥–∏–Ω–∏–π T-SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ö–µ–º–∏ –¥–∞–Ω–∏—Ö**


```sql
-- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
CREATE TABLE users (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    email NVARCHAR(255) UNIQUE,
    password_hash NVARCHAR(MAX),
    status NVARCHAR(50) NOT NULL DEFAULT 'active',
    created_at DATETIMEOFFSET NOT NULL DEFAULT GETDATE()
);

CREATE TABLE user_profiles (
    user_id BIGINT PRIMARY KEY,
    display_name NVARCHAR(255),
    sex NVARCHAR(50),
    birth_date DATE,
    height_cm NUMERIC(5, 2),
    weight_kg NUMERIC(6, 3),
    activity_level NVARCHAR(50),
    timezone NVARCHAR(100),
    country NVARCHAR(100),
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE TABLE user_providers (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    user_id BIGINT NOT NULL,
    provider NVARCHAR(50) NOT NULL,
    provider_user_id NVARCHAR(255) NOT NULL,
    created_at DATETIMEOFFSET NOT NULL DEFAULT GETDATE(),
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    CONSTRAINT UQ_user_providers UNIQUE (provider, provider_user_id)
);

-- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å –¥–ª—è –±—Ä–µ–Ω–¥—ñ–≤, –æ–¥–∏–Ω–∏—Ü—å —Ç–∞ –ø–æ–∂–∏–≤–Ω–∏—Ö —Ä–µ—á–æ–≤–∏–Ω (–Ω–µ–∑–∞–ª–µ–∂–Ω—ñ)
CREATE TABLE brands (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    name NVARCHAR(255) NOT NULL UNIQUE
);

CREATE TABLE units (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    name NVARCHAR(100) NOT NULL UNIQUE,
    abbr NVARCHAR(20) NOT NULL UNIQUE,
    grams_per_unit NUMERIC(10, 4) NOT NULL
);

CREATE TABLE nutrients (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    name NVARCHAR(100) NOT NULL UNIQUE,
    unit NVARCHAR(20) NOT NULL
);

-- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å, —â–æ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
CREATE TABLE nutrition_goals (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    user_id BIGINT NOT NULL,
    start_date DATE NOT NULL,
    end_date DATE,
    target_calories INT,
    protein_g NUMERIC(7, 2),
    fat_g NUMERIC(7, 2),
    carbs_g NUMERIC(7, 2),
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE body_weight_logs (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    user_id BIGINT NOT NULL,
    date DATE NOT NULL,
    weight_kg NUMERIC(6, 3) NOT NULL,
    note NVARCHAR(MAX),
    FOREIGN KEY (user_id) REFERENCES users(id),
    CONSTRAINT UQ_body_weight_logs UNIQUE (user_id, date)
);

CREATE TABLE recipes (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    user_id BIGINT NOT NULL,
    name NVARCHAR(255) NOT NULL,
    servings NUMERIC(8, 3) NOT NULL,
    FOREIGN KEY (user_id) REFERENCES users(id),
    CONSTRAINT UQ_recipes UNIQUE (user_id, name)
);

-- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å, —â–æ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –±—Ä–µ–Ω–¥—ñ–≤, –æ–¥–∏–Ω–∏—Ü—å —Ç–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
CREATE TABLE foods (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    brand_id BIGINT,
    name NVARCHAR(255) NOT NULL,
    default_serving_g NUMERIC(10, 4),
    is_custom BIT NOT NULL DEFAULT 0,
    created_by_user_id BIGINT,
    FOREIGN KEY (brand_id) REFERENCES brands(id),
    FOREIGN KEY (created_by_user_id) REFERENCES users(id),
    CONSTRAINT UQ_foods UNIQUE (brand_id, name)
);

-- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å, —â–æ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
CREATE TABLE barcodes (
    code NVARCHAR(255) PRIMARY KEY,
    food_id BIGINT NOT NULL,
    source NVARCHAR(255),
    FOREIGN KEY (food_id) REFERENCES foods(id)
);

CREATE TABLE food_portions (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    food_id BIGINT NOT NULL,
    unit_id BIGINT NOT NULL,
    grams NUMERIC(10, 4) NOT NULL,
    FOREIGN KEY (food_id) REFERENCES foods(id),
    FOREIGN KEY (unit_id) REFERENCES units(id),
    CONSTRAINT UQ_food_portions UNIQUE (food_id, unit_id)
);

CREATE TABLE food_nutrients (
    food_id BIGINT NOT NULL,
    nutrient_id BIGINT NOT NULL,
    amount_per_100g NUMERIC(12, 6) NOT NULL,
    PRIMARY KEY (food_id, nutrient_id),
    FOREIGN KEY (food_id) REFERENCES foods(id),
    FOREIGN KEY (nutrient_id) REFERENCES nutrients(id)
);

-- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å –¥–ª—è —â–æ–¥–µ–Ω–Ω–∏–∫–∞
CREATE TABLE diary_days (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    user_id BIGINT NOT NULL,
    date DATE NOT NULL,
    note NVARCHAR(MAX),
    planned BIT NOT NULL DEFAULT 0,
    calories_burned INT DEFAULT 0,
    FOREIGN KEY (user_id) REFERENCES users(id),
    CONSTRAINT UQ_diary_days UNIQUE (user_id, date)
);

CREATE TABLE meals (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    diary_day_id BIGINT NOT NULL,
    meal_type NVARCHAR(50) NOT NULL,
    name NVARCHAR(255),
    FOREIGN KEY (diary_day_id) REFERENCES diary_days(id) ON DELETE CASCADE
);

-- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å, —â–æ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤, —Ä–µ—Ü–µ–ø—Ç—ñ–≤ —Ç–∞ —â–æ–¥–µ–Ω–Ω–∏–∫–∞
CREATE TABLE recipe_items (
    recipe_id BIGINT NOT NULL,
    line_no INT NOT NULL,
    food_id BIGINT NOT NULL,
    quantity NUMERIC(12, 4) NOT NULL,
    unit_id BIGINT NOT NULL,
    PRIMARY KEY (recipe_id, line_no),
    FOREIGN KEY (recipe_id) REFERENCES recipes(id),
    FOREIGN KEY (food_id) REFERENCES foods(id),
    FOREIGN KEY (unit_id) REFERENCES units(id)
);

CREATE TABLE meal_items (
    id BIGINT IDENTITY(1,1) PRIMARY KEY,
    meal_id BIGINT NOT NULL,
    food_id BIGINT,
    recipe_id BIGINT,
    quantity NUMERIC(12, 4) NOT NULL,
    unit_id BIGINT NOT NULL,
    grams_override NUMERIC(12, 4),
    FOREIGN KEY (meal_id) REFERENCES meals(id) ON DELETE CASCADE,
    FOREIGN KEY (food_id) REFERENCES foods(id),
    FOREIGN KEY (recipe_id) REFERENCES recipes(id),
    FOREIGN KEY (unit_id) REFERENCES units(id),
    CONSTRAINT CK_meal_items CHECK ((food_id IS NOT NULL AND recipe_id IS NULL) OR (food_id IS NULL AND recipe_id IS NOT NULL))
);
```



